$(document).ready(function(){function t(e,t,r,o,s){function C(){y.unbind("webkitTransitionEnd transitionend otransitionend oTransitionEnd"),t&&a(t,r,o,s),s.startOrder=[],s.newOrder=[],s.origSort=[],s.checkSort=[],p.removeStyle(s.prefix+"filter, filter, "+s.prefix+"transform, transform, opacity, display").css(s.clean).removeAttr("data-checksum"),window.atob||p.css({display:"none",opacity:"0"});var e=s.resizeContainer?"height":"";y.removeStyle(s.prefix+"transition, transition, "+s.prefix+"perspective, perspective, "+s.prefix+"perspective-origin, perspective-origin, "+e),"list"==s.layoutMode?(v.css({display:s.targetDisplayList,opacity:"1"}),s.origDisplay=s.targetDisplayList):(v.css({display:s.targetDisplayGrid,opacity:"1"}),s.origDisplay=s.targetDisplayGrid),s.origLayout=s.layoutMode;setTimeout(function(){if(p.removeStyle(s.prefix+"transition, transition"),s.mixing=!1,"function"==typeof s.onMixEnd){var e=s.onMixEnd.call(this,s);s=e?e:s}})}if(clearInterval(s.failsafe),s.mixing=!0,s.filter=e,"function"==typeof s.onMixStart){var l=s.onMixStart.call(this,s);s=l?l:s}for(var u=s.transitionSpeed,c=0;2>c;c++){var f=0==c?f=s.prefix:"";s.transition[f+"transition"]="all "+u+"ms linear",s.transition[f+"transform"]=f+"translate3d(0,0,0)",s.perspective[f+"perspective"]=s.perspectiveDistance+"px",s.perspective[f+"perspective-origin"]=s.perspectiveOrigin}var d=s.targetSelector,p=o.find(d);p.each(function(){this.data={}});var y=p.parent();y.css(s.perspective),s.easingFallback="ease-in-out","smooth"==s.easing&&(s.easing="cubic-bezier(0.25, 0.46, 0.45, 0.94)"),"snap"==s.easing&&(s.easing="cubic-bezier(0.77, 0, 0.175, 1)"),"windback"==s.easing&&(s.easing="cubic-bezier(0.175, 0.885, 0.320, 1.275)",s.easingFallback="cubic-bezier(0.175, 0.885, 0.320, 1)"),"windup"==s.easing&&(s.easing="cubic-bezier(0.6, -0.28, 0.735, 0.045)",s.easingFallback="cubic-bezier(0.6, 0.28, 0.735, 0.045)");var m="list"==s.layoutMode&&null!=s.listEffects?s.listEffects:s.effects;Array.prototype.indexOf&&(s.fade=m.indexOf("fade")>-1?"0":"",s.scale=m.indexOf("scale")>-1?"scale(.01)":"",s.rotateZ=m.indexOf("rotateZ")>-1?"rotate(180deg)":"",s.rotateY=m.indexOf("rotateY")>-1?"rotateY(90deg)":"",s.rotateX=m.indexOf("rotateX")>-1?"rotateX(90deg)":"",s.blur=m.indexOf("blur")>-1?"blur(8px)":"",s.grayscale=m.indexOf("grayscale")>-1?"grayscale(100%)":"");var v=$(),g=$(),h=[],T=!1;"string"==typeof e?h=n(e):(T=!0,$.each(e,function(e){h[e]=n(this)})),"or"==s.filterLogic?(""==h[0]&&h.shift(),h.length<1?g=g.add(o.find(d+":visible")):p.each(function(){var e=$(this);if(T){var t=0;$.each(h,function(){this.length?e.is("."+this.join(", ."))&&t++:t>0&&t++}),t==h.length?v=v.add(e):g=g.add(e)}else e.is("."+h.join(", ."))?v=v.add(e):g=g.add(e)})):(v=v.add(y.find(d+"."+h.join("."))),g=g.add(y.find(d+":not(."+h.join(".")+"):visible")));var P=v.length,b=$(),Y=$(),w=$();if(g.each(function(){var e=$(this);"none"!=e.css("display")&&(b=b.add(e),w=w.add(e))}),v.filter(":visible").length==P&&!b.length&&!t){if(s.origLayout==s.layoutMode)return C(),!1;if(1==v.length)return"list"==s.layoutMode?(o.addClass(s.listClass),o.removeClass(s.gridClass),w.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),w.css("display",s.targetDisplayGrid)),C(),!1}if(s.origHeight=y.height(),v.length){if(o.removeClass(s.failClass),v.each(function(){var e=$(this);"none"==e.css("display")?Y=Y.add(e):w=w.add(e)}),s.origLayout!=s.layoutMode&&0==s.animateGridList)return"list"==s.layoutMode?(o.addClass(s.listClass),o.removeClass(s.gridClass),w.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),w.css("display",s.targetDisplayGrid)),C(),!1;if(!window.atob)return C(),!1;if(p.css(s.clean),w.each(function(){this.data.origPos=$(this).offset()}),"list"==s.layoutMode?(o.addClass(s.listClass),o.removeClass(s.gridClass),Y.css("display",s.targetDisplayList)):(o.addClass(s.gridClass),o.removeClass(s.listClass),Y.css("display",s.targetDisplayGrid)),Y.each(function(){this.data.showInterPos=$(this).offset()}),b.each(function(){this.data.hideInterPos=$(this).offset()}),w.each(function(){this.data.preInterPos=$(this).offset()}),"list"==s.layoutMode?w.css("display",s.targetDisplayList):w.css("display",s.targetDisplayGrid),t&&a(t,r,o,s),t&&i(s.origSort,s.checkSort))return C(),!1;b.hide(),Y.each(function(){this.data.finalPos=$(this).offset()}),w.each(function(){this.data.finalPrePos=$(this).offset()}),s.newHeight=y.height(),t&&a("reset",null,o,s),Y.hide(),w.css("display",s.origDisplay),"block"==s.origDisplay?(o.addClass(s.listClass),Y.css("display",s.targetDisplayList)):(o.removeClass(s.listClass),Y.css("display",s.targetDisplayGrid)),s.resizeContainer&&y.css("height",s.origHeight+"px");for(var j={},c=0;2>c;c++){var f=0==c?f=s.prefix:"";j[f+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,j[f+"filter"]=s.blur+" "+s.grayscale}Y.css(j),w.each(function(){var e=this.data,t=$(this);t.hasClass("mix_tohide")?(e.preTX=e.origPos.left-e.hideInterPos.left,e.preTY=e.origPos.top-e.hideInterPos.top):(e.preTX=e.origPos.left-e.preInterPos.left,e.preTY=e.origPos.top-e.preInterPos.top);for(var a={},r=0;2>r;r++){var i=0==r?i=s.prefix:"";a[i+"transform"]="translate("+e.preTX+"px,"+e.preTY+"px)"}t.css(a)}),"list"==s.layoutMode?(o.addClass(s.listClass),o.removeClass(s.gridClass)):(o.addClass(s.gridClass),o.removeClass(s.listClass));{setTimeout(function(){if(s.resizeContainer){for(var e={},t=0;2>t;t++){var a=0==t?a=s.prefix:"";e[a+"transition"]="all "+u+"ms ease-in-out",e.height=s.newHeight+"px"}y.css(e)}b.css("opacity",s.fade),Y.css("opacity",1),Y.each(function(){var e=this.data;e.tX=e.finalPos.left-e.showInterPos.left,e.tY=e.finalPos.top-e.showInterPos.top;for(var t={},a=0;2>a;a++){var r=0==a?r=s.prefix:"";t[r+"transition-property"]=r+"transform, "+r+"filter, opacity",t[r+"transition-timing-function"]=s.easing+", linear, linear",t[r+"transition-duration"]=u+"ms",t[r+"transition-delay"]="0",t[r+"transform"]="translate("+e.tX+"px,"+e.tY+"px)",t[r+"filter"]="none"}$(this).css("-webkit-transition","all "+u+"ms "+s.easingFallback).css(t)}),w.each(function(){var e=this.data;e.tX=0!=e.finalPrePos.left?e.finalPrePos.left-e.preInterPos.left:0,e.tY=0!=e.finalPrePos.left?e.finalPrePos.top-e.preInterPos.top:0;for(var t={},a=0;2>a;a++){var r=0==a?r=s.prefix:"";t[r+"transition"]="all "+u+"ms "+s.easing,t[r+"transform"]="translate("+e.tX+"px,"+e.tY+"px)"}$(this).css("-webkit-transition","all "+u+"ms "+s.easingFallback).css(t)});for(var r={},t=0;2>t;t++){var a=0==t?a=s.prefix:"";r[a+"transition"]="all "+u+"ms "+s.easing+", "+a+"filter "+u+"ms linear, opacity "+u+"ms linear",r[a+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,r[a+"filter"]=s.blur+" "+s.grayscale,r.opacity=s.fade}b.css(r),y.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(e.originalEvent.propertyName.indexOf("transform")>-1||e.originalEvent.propertyName.indexOf("opacity")>-1)&&(d.indexOf(".")>-1?$(e.target).hasClass(d.replace(".",""))&&C():$(e.target).is(d)&&C())})},10)}s.failsafe=setTimeout(function(){s.mixing&&C()},u+400)}else{if(s.resizeContainer&&y.css("height",s.origHeight+"px"),!window.atob)return C(),!1;b=g;{setTimeout(function(){if(y.css(s.perspective),s.resizeContainer){for(var e={},t=0;2>t;t++){var a=0==t?a=s.prefix:"";e[a+"transition"]="height "+u+"ms ease-in-out",e.height=s.minHeight+"px"}y.css(e)}p.css(s.transition);var r=g.length;if(r){for(var i={},t=0;2>t;t++){var a=0==t?a=s.prefix:"";i[a+"transform"]=s.scale+" "+s.rotateX+" "+s.rotateY+" "+s.rotateZ,i[a+"filter"]=s.blur+" "+s.grayscale,i.opacity=s.fade}b.css(i),y.bind("webkitTransitionEnd transitionend otransitionend oTransitionEnd",function(e){(e.originalEvent.propertyName.indexOf("transform")>-1||e.originalEvent.propertyName.indexOf("opacity")>-1)&&(o.addClass(s.failClass),C())})}else s.mixing=!1},10)}}}function a(e,t,a,r){function i(t,a){var r=isNaN(1*t.attr(e))?t.attr(e).toLowerCase():1*t.attr(e),i=isNaN(1*a.attr(e))?a.attr(e).toLowerCase():1*a.attr(e);return i>r?-1:r>i?1:0}function n(e){"asc"==t?s.prepend(e).prepend(" "):s.append(e).append(" ")}function o(e){for(var t=e.slice(),a=t.length,r=a;r--;){var i=parseInt(Math.random()*a),n=t[r];t[r]=t[i],t[i]=n}return t}a.find(r.targetSelector).wrapAll('<div class="mix_sorter"/>');var s=a.find(".mix_sorter");if(r.origSort.length||s.find(r.targetSelector+":visible").each(function(){$(this).wrap("<s/>"),r.origSort.push($(this).parent().html().replace(/\s+/g,"")),$(this).unwrap()}),s.empty(),"reset"==e)$.each(r.startOrder,function(){s.append(this).append(" ")});else if("default"==e)$.each(r.origOrder,function(){n(this)});else if("random"==e)r.newOrder.length||(r.newOrder=o(r.startOrder)),$.each(r.newOrder,function(){s.append(this).append(" ")});else if("custom"==e)$.each(t,function(){n(this)});else{if("undefined"==typeof r.origOrder[0].attr(e))return console.log("No such attribute found. Terminating"),!1;r.newOrder.length||($.each(r.origOrder,function(){r.newOrder.push($(this))}),r.newOrder.sort(i)),$.each(r.newOrder,function(){n(this)})}r.checkSort=[],s.find(r.targetSelector+":visible").each(function(e){var t=$(this);0==e&&t.attr("data-checksum","1"),t.wrap("<s/>"),r.checkSort.push(t.parent().html().replace(/\s+/g,"")),t.unwrap()}),a.find(r.targetSelector).unwrap()}function r(e){for(var t=["Webkit","Moz","O","ms"],a=0;a<t.length;a++)if(t[a]+"Transition"in e.style)return t[a];return"transition"in e.style?"":!1}function i(e,t){if(e.length!=t.length)return!1;for(var a=0;a<t.length;a++){if(e[a].compare&&!e[a].compare(t[a]))return!1;if(e[a]!==t[a])return!1}return!0}function n(e){e=e.replace(/\s{2,}/g," ");var t=e.split(" ");return $.each(t,function(e){"all"==this&&(t[e]="mix_all")}),""==t[0]&&t.shift(),t}var e={init:function(e){return this.each(function(){var i={targetSelector:"",filterSelector:".filter",sortSelector:".sort",buttonEvent:"click",effects:["fade"],listEffects:null,easing:"smooth",layoutMode:"grid",targetDisplayGrid:"inline-block",targetDisplayList:"block",listClass:"",gridClass:"",transitionSpeed:200,showOnLoad:"all",sortOnLoad:!1,multiFilter:!1,filterLogic:"or",resizeContainer:!0,minHeight:0,failClass:"fail",perspectiveDistance:"3000",perspectiveOrigin:"50% 50%",animateGridList:!0,onMixLoad:null,onMixStart:null,onMixEnd:null,container:null,origOrder:[],startOrder:[],newOrder:[],origSort:[],checkSort:[],filter:"",mixing:!1,origDisplay:"",origLayout:"",origHeight:0,newHeight:0,isTouch:!1,resetDelay:0,failsafe:null,prefix:"",easingFallback:"ease-in-out",transition:{},perspective:{},clean:{},fade:"1",scale:"",rotateX:"",rotateY:"",rotateZ:"",blur:"",grayscale:""};e&&$.extend(i,e),this.config=i,$.support.touch="ontouchend"in document,$.support.touch&&(i.isTouch=!0,i.resetDelay=350),i.container=$(this);var n=i.container;if(i.prefix=r(n[0]),i.prefix=i.prefix?"-"+i.prefix.toLowerCase()+"-":"",n.find(i.targetSelector).each(function(){i.origOrder.push($(this))}),i.sortOnLoad){var o,s;$.isArray(i.sortOnLoad)?(o=i.sortOnLoad[0],s=i.sortOnLoad[1],$(i.sortSelector+"[data-sort="+i.sortOnLoad[0]+"][data-order="+i.sortOnLoad[1]+"]").addClass("active")):($(i.sortSelector+"[data-sort="+i.sortOnLoad+"]").addClass("active"),o=i.sortOnLoad,i.sortOnLoad="desc"),a(o,s,n,i)}for(var l=0;2>l;l++){var u=0==l?u=i.prefix:"";i.transition[u+"transition"]="all "+i.transitionSpeed+"ms ease-in-out",i.perspective[u+"perspective"]=i.perspectiveDistance+"px",i.perspective[u+"perspective-origin"]=i.perspectiveOrigin}for(var l=0;2>l;l++){var u=0==l?u=i.prefix:"";i.clean[u+"transition"]="none"}"list"==i.layoutMode?(n.addClass(i.listClass),i.origDisplay=i.targetDisplayList):(n.addClass(i.gridClass),i.origDisplay=i.targetDisplayGrid),i.origLayout=i.layoutMode;var c=i.showOnLoad.split(" ");$.each(c,function(){$(i.filterSelector+'[data-filter="'+this+'"]').addClass("active")}),n.find(i.targetSelector).addClass("mix_all"),"all"==c[0]&&(c[0]="mix_all",i.showOnLoad="mix_all");var f=$();$.each(c,function(){f=f.add($("."+this))}),f.each(function(){var e=$(this);"list"==i.layoutMode?e.css("display",i.targetDisplayList):e.css("display",i.targetDisplayGrid),e.css(i.transition)});setTimeout(function(){i.mixing=!0,f.css("opacity","1");setTimeout(function(){if(f.removeStyle(i.prefix+"transition, transition").css("list"==i.layoutMode?{display:i.targetDisplayList,opacity:1}:{display:i.targetDisplayGrid,opacity:1}),i.mixing=!1,"function"==typeof i.onMixLoad){var e=i.onMixLoad.call(this,i);i=e?e:i}},i.transitionSpeed)},10);i.filter=i.showOnLoad,$(i.sortSelector).bind(i.buttonEvent,function(){if(!i.mixing){var e=$(this),a=e.attr("data-sort"),r=e.attr("data-order");if(e.hasClass("active")){if("random"!=a)return!1}else $(i.sortSelector).removeClass("active"),e.addClass("active");n.find(i.targetSelector).each(function(){i.startOrder.push($(this))}),t(i.filter,a,r,n,i)}}),$(i.filterSelector).bind(i.buttonEvent,function(){if(!i.mixing){var e=$(this);if(0==i.multiFilter)$(i.filterSelector).removeClass("active"),e.addClass("active"),i.filter=e.attr("data-filter"),$(i.filterSelector+'[data-filter="'+i.filter+'"]').addClass("active");else{var a=e.attr("data-filter");if(e.hasClass("active")){e.removeClass("active");var r=new RegExp("(\\s|^)"+a);i.filter=i.filter.replace(r,"")}else e.addClass("active"),i.filter=i.filter+" "+a}t(i.filter,null,null,n,i)}})})},toGrid:function(){return this.each(function(){var e=this.config;"grid"!=e.layoutMode&&(e.layoutMode="grid",t(e.filter,null,null,$(this),e))})},toList:function(){return this.each(function(){var e=this.config;"list"!=e.layoutMode&&(e.layoutMode="list",t(e.filter,null,null,$(this),e))})},filter:function(e){return this.each(function(){var a=this.config;a.mixing||($(a.filterSelector).removeClass("active"),$(a.filterSelector+'[data-filter="'+e+'"]').addClass("active"),t(e,null,null,$(this),a))})},sort:function(e){return this.each(function(){var a=this.config,r=$(this);if(!a.mixing){if($(a.sortSelector).removeClass("active"),$.isArray(e)){var i=e[0],n=e[1];$(a.sortSelector+'[data-sort="'+e[0]+'"][data-order="'+e[1]+'"]').addClass("active")}else{$(a.sortSelector+'[data-sort="'+e+'"]').addClass("active");var i=e,n="desc"}r.find(a.targetSelector).each(function(){a.startOrder.push($(this))}),t(a.filter,i,n,r,a)}})},multimix:function(e){return this.each(function(){var a=this.config,r=$(this);multiOut={filter:a.filter,sort:null,order:"desc",layoutMode:a.layoutMode},$.extend(multiOut,e),a.mixing||($(a.filterSelector).add(a.sortSelector).removeClass("active"),$(a.filterSelector+'[data-filter="'+multiOut.filter+'"]').addClass("active"),"undefined"!=typeof multiOut.sort&&($(a.sortSelector+'[data-sort="'+multiOut.sort+'"][data-order="'+multiOut.order+'"]').addClass("active"),r.find(a.targetSelector).each(function(){a.startOrder.push($(this))})),a.layoutMode=multiOut.layoutMode,t(multiOut.filter,multiOut.sort,multiOut.order,r,a))})},remix:function(e){return this.each(function(){var a=this.config,r=$(this);a.origOrder=[],r.find(a.targetSelector).each(function(){var e=$(this);e.addClass("mix_all"),a.origOrder.push(e)}),a.mixing||"undefined"==typeof e||($(a.filterSelector).removeClass("active"),$(a.filterSelector+'[data-filter="'+e+'"]').addClass("active"),t(e,null,null,r,a))})}};$.fn.mixitup=function(t){return e[t]?e[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:e.init.apply(this,arguments)},$.fn.removeStyle=function(e){return this.each(function(){var t=$(this);e=e.replace(/\s+/g,"");var a=e.split(",");$.each(a,function(){var e=new RegExp(this.toString()+"[^;]+;?","g");t.attr("style",function(t,a){return a?a.replace(e,""):void 0})})})}});